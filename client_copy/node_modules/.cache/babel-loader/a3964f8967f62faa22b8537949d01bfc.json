{"ast":null,"code":"var _jsxFileName = \"/Users/sherveersinghpannu/projects/map/client/src/App.js\";\nimport React, { useState } from 'react';\nimport logo from \"./logo.svg\";\nimport './App.css';\n\nfunction App() {\n  /*   const spotifyLogin = () => {\n     app.get('/login', function(req, res) {\n       var scopes = 'user-read-private user-read-email';\n       res.redirect('https://accounts.spotify.com/authorize' +\n         '?response_type=code' +\n         '&client_id=' + my_client_id +\n         (scopes ? '&scope=' + encodeURIComponent(scopes) : '') +\n         '&redirect_uri=' + encodeURIComponent(redirect_uri));\n       });\n   } */\n  const clientId = 'f2c4a36edf6541c7922bbaab046328a1';\n  const clientSecret = '835373c22ef349ee9c10567e75ac5ba5';\n  const [accessToken, setAccessToken] = useState('');\n  const [inputValue, setInputValue] = useState('');\n\n  const spotifyLogin2 = async () => {\n    //const token = _getToken();\n    let token = await _getToken();\n    console.log(token.access_token);\n    const limit = 10;\n    const result = await fetch(`https://api.spotify.com/v1/me/top/artists?time_range=medium_term&limit=10&offset=5`, {\n      method: 'GET',\n      headers: {\n        Authorization: 'Bearer ' + 'BQBwFqAzVX5AsFagbnJax0vfSztH6-LbXIl7ZTVW5gotnonRamqOA1fl_swXt3XqVl1o6PvYljPfFe6vVdSAA0JeinIYFo5kqkmcvAjESLvi1ARHU-WtcUkY83CCqHN86GVYln48BVGVihAwQVZhAtnusRcbFRPLK7E2tg34-PU1UEz9ylsmgfqT1udsePyU6DW_QB4lbRDQOeoFwG7Dw3Y_VeL5Si-sJEBhx9ZzPYgS3liRZJfDW4TTRce59nqbiFuQ5FHi1BpMdgec'\n      }\n    });\n    let data = await result.json();\n    console.log(data);\n    return data.items;\n  };\n\n  const spotifyLogin = () => {\n    _getToken();\n  };\n\n  const _getToken = async () => {\n    console.log('kommer vi hit');\n    const result = await fetch('https://accounts.spotify.com/api/token', {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/x-www-form-urlencoded',\n        Authorization: 'Basic ' + btoa(clientId + ':' + clientSecret)\n      },\n      body: 'grant_type=client_credentials'\n    });\n    const data = await result.json();\n    console.log('data:', data.access_token);\n    setAccessToken(data.access_token);\n    return data;\n  }; // UI Module\n\n\n  const updateInputValue = e => {\n    //e.preventDefault()\n    setInputValue(e.target.value);\n  };\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"App\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(\"body\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"script\", {\n    src: \"https://sdk.scdn.co/spotify-player.js\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 5\n    }\n  })), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => spotifyLogin2(),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 5\n    }\n  }, \"Login with Spotify\"), /*#__PURE__*/React.createElement(\"input\", {\n    value: inputValue,\n    onChange: e => updateInputValue(e),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 82,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 5\n    }\n  }, inputValue)));\n}\n\nexport default App;","map":{"version":3,"sources":["/Users/sherveersinghpannu/projects/map/client/src/App.js"],"names":["React","useState","App","clientId","clientSecret","accessToken","setAccessToken","inputValue","setInputValue","spotifyLogin2","token","_getToken","console","log","access_token","limit","result","fetch","method","headers","Authorization","data","json","items","spotifyLogin","btoa","body","updateInputValue","e","target","value"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;;AAEA,OAAO,WAAP;;AAEA,SAASC,GAAT,GAAe;AACd;;;;;;;;;;AAWA,QAAMC,QAAQ,GAAG,kCAAjB;AACA,QAAMC,YAAY,GAAG,kCAArB;AACA,QAAM,CAAEC,WAAF,EAAeC,cAAf,IAAkCL,QAAQ,CAAC,EAAD,CAAhD;AACA,QAAM,CAAEM,UAAF,EAAcC,aAAd,IAAgCP,QAAQ,CAAC,EAAD,CAA9C;;AAEA,QAAMQ,aAAa,GAAG,YAAY;AACjC;AACA,QAAIC,KAAK,GAAG,MAAMC,SAAS,EAA3B;AAEAC,IAAAA,OAAO,CAACC,GAAR,CAAYH,KAAK,CAACI,YAAlB;AAEA,UAAMC,KAAK,GAAG,EAAd;AAEA,UAAMC,MAAM,GAAG,MAAMC,KAAK,CACxB,oFADwB,EAEzB;AACCC,MAAAA,MAAM,EAAE,KADT;AAECC,MAAAA,OAAO,EAAE;AACRC,QAAAA,aAAa,EACZ,YACA;AAHO;AAFV,KAFyB,CAA1B;AAYA,QAAIC,IAAI,GAAG,MAAML,MAAM,CAACM,IAAP,EAAjB;AACAV,IAAAA,OAAO,CAACC,GAAR,CAAYQ,IAAZ;AACA,WAAOA,IAAI,CAACE,KAAZ;AACA,GAvBD;;AAyBA,QAAMC,YAAY,GAAG,MAAM;AAC1Bb,IAAAA,SAAS;AACT,GAFD;;AAIA,QAAMA,SAAS,GAAG,YAAY;AAC7BC,IAAAA,OAAO,CAACC,GAAR,CAAY,eAAZ;AACA,UAAMG,MAAM,GAAG,MAAMC,KAAK,CAAC,wCAAD,EAA2C;AACpEC,MAAAA,MAAM,EAAE,MAD4D;AAEpEC,MAAAA,OAAO,EAAE;AACR,wBAAgB,mCADR;AAERC,QAAAA,aAAa,EAAE,WAAWK,IAAI,CAACtB,QAAQ,GAAG,GAAX,GAAiBC,YAAlB;AAFtB,OAF2D;AAMpEsB,MAAAA,IAAI,EAAE;AAN8D,KAA3C,CAA1B;AASA,UAAML,IAAI,GAAG,MAAML,MAAM,CAACM,IAAP,EAAnB;AACAV,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAqBQ,IAAI,CAACP,YAA1B;AAEAR,IAAAA,cAAc,CAACe,IAAI,CAACP,YAAN,CAAd;AACA,WAAOO,IAAP;AACA,GAhBD,CA9Cc,CAgEd;;;AAEA,QAAMM,gBAAgB,GAAIC,CAAD,IAAO;AAC/B;AACApB,IAAAA,aAAa,CAACoB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAb;AACA,GAHD;;AAIA,sBACC;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC;AAAQ,IAAA,GAAG,EAAC,uCAAZ;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IADD,CADD,eAIC;AAAK,IAAA,SAAS,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,kBACC;AAAQ,IAAA,OAAO,EAAE,MAAMrB,aAAa,EAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADD,eAEC;AAAO,IAAA,KAAK,EAAEF,UAAd;AAA0B,IAAA,QAAQ,EAAGqB,CAAD,IAAOD,gBAAgB,CAACC,CAAD,CAA3D;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAFD,eAGC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAIrB,UAAJ,CAHD,CAJD,CADD;AAYA;;AAED,eAAeL,GAAf","sourcesContent":["import React, { useState } from 'react';\nimport logo from './logo.svg';\nimport './App.css';\n\nfunction App() {\n\t/*   const spotifyLogin = () => {\n    app.get('/login', function(req, res) {\n      var scopes = 'user-read-private user-read-email';\n      res.redirect('https://accounts.spotify.com/authorize' +\n        '?response_type=code' +\n        '&client_id=' + my_client_id +\n        (scopes ? '&scope=' + encodeURIComponent(scopes) : '') +\n        '&redirect_uri=' + encodeURIComponent(redirect_uri));\n      });\n  } */\n\n\tconst clientId = 'f2c4a36edf6541c7922bbaab046328a1';\n\tconst clientSecret = '835373c22ef349ee9c10567e75ac5ba5';\n\tconst [ accessToken, setAccessToken ] = useState('');\n\tconst [ inputValue, setInputValue ] = useState('');\n\n\tconst spotifyLogin2 = async () => {\n\t\t//const token = _getToken();\n\t\tlet token = await _getToken();\n\n\t\tconsole.log(token.access_token);\n\n\t\tconst limit = 10;\n\n\t\tconst result = await fetch(\n\t\t\t`https://api.spotify.com/v1/me/top/artists?time_range=medium_term&limit=10&offset=5`,\n\t\t\t{\n\t\t\t\tmethod: 'GET',\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization:\n\t\t\t\t\t\t'Bearer ' +\n\t\t\t\t\t\t'BQBwFqAzVX5AsFagbnJax0vfSztH6-LbXIl7ZTVW5gotnonRamqOA1fl_swXt3XqVl1o6PvYljPfFe6vVdSAA0JeinIYFo5kqkmcvAjESLvi1ARHU-WtcUkY83CCqHN86GVYln48BVGVihAwQVZhAtnusRcbFRPLK7E2tg34-PU1UEz9ylsmgfqT1udsePyU6DW_QB4lbRDQOeoFwG7Dw3Y_VeL5Si-sJEBhx9ZzPYgS3liRZJfDW4TTRce59nqbiFuQ5FHi1BpMdgec'\n\t\t\t\t}\n\t\t\t}\n\t\t);\n\n\t\tlet data = await result.json();\n\t\tconsole.log(data);\n\t\treturn data.items;\n\t};\n\n\tconst spotifyLogin = () => {\n\t\t_getToken();\n\t};\n\n\tconst _getToken = async () => {\n\t\tconsole.log('kommer vi hit');\n\t\tconst result = await fetch('https://accounts.spotify.com/api/token', {\n\t\t\tmethod: 'POST',\n\t\t\theaders: {\n\t\t\t\t'Content-Type': 'application/x-www-form-urlencoded',\n\t\t\t\tAuthorization: 'Basic ' + btoa(clientId + ':' + clientSecret)\n\t\t\t},\n\t\t\tbody: 'grant_type=client_credentials'\n\t\t});\n\n\t\tconst data = await result.json();\n\t\tconsole.log('data:', data.access_token);\n\n\t\tsetAccessToken(data.access_token);\n\t\treturn data;\n\t};\n\n\t// UI Module\n\n\tconst updateInputValue = (e) => {\n\t\t//e.preventDefault()\n\t\tsetInputValue(e.target.value);\n\t};\n\treturn (\n\t\t<div className=\"App\">\n\t\t\t<body>\n\t\t\t\t<script src=\"https://sdk.scdn.co/spotify-player.js\" />\n\t\t\t</body>\n\t\t\t<div className=\"container\">\n\t\t\t\t<button onClick={() => spotifyLogin2()}>Login with Spotify</button>\n\t\t\t\t<input value={inputValue} onChange={(e) => updateInputValue(e)} />\n\t\t\t\t<p>{inputValue}</p>\n\t\t\t</div>\n\t\t</div>\n\t);\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}