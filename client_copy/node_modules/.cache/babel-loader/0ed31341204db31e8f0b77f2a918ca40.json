{"ast":null,"code":"var _jsxFileName = \"/Users/sherveersinghpannu/projects/map/client_copy/src/App.js\";\nimport React, { useState, useEffect } from 'react';\nimport './App.css';\nimport SpotifyWebApi from 'spotify-web-api-js';\nimport styled from 'styled-components';\nimport Header from './Components/Header';\nimport Sidebar from './Components/Sidebar';\nimport Content from './Components/Content';\nimport axios from 'axios';\nconst spotifyWeb = new SpotifyWebApi();\n\nfunction App() {\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [checkedOption, setCheckedOption] = useState('friendsfavorites');\n  const [personalData, setPersonalData] = useState([]);\n  const [topArtists, setTopArtists] = useState([]);\n  const [addFriendPage, setAddFriendPage] = useState(false);\n  const [me, setMe] = useState({});\n  const [users, setUsers] = useState([]);\n  const [friends, setFriends] = useState([]);\n  useEffect(() => {\n    console.log('me ', me);\n\n    if (me.friends) {\n      me.friends.forEach(friend => {\n        users.forEach(user => {\n          if (user.userName === friend) {\n            const newFriends = [...friends, user];\n            setFriends(newFriends);\n            friends.push(user);\n          }\n        });\n      });\n    }\n\n    console.log('FRIENDS', friends);\n    console.log('ME', me);\n    console.log('USERS', users);\n  }, [me]);\n  let hashParams = {};\n\n  const getHashParams = () => {\n    var e,\n        r = /([^&;=]+)=?([^&;]*)/g,\n        q = window.location.hash.substring(1);\n    e = r.exec(q);\n\n    while (e) {\n      hashParams[e[1]] = decodeURIComponent(e[2]);\n      e = r.exec(q);\n    }\n\n    return hashParams.access_token;\n  };\n\n  useEffect(() => {\n    hashParams.access_token ? setLoggedIn(true) : setLoggedIn(false);\n    getMe();\n    getTopArtists();\n  }, []);\n  useEffect(() => {\n    checkedOption === 'friendsfavorites' && setAddFriendPage(false);\n  }, [checkedOption]);\n  getHashParams();\n  useEffect(() => {\n    createUser();\n    createFakeUser();\n  }, [personalData, topArtists]);\n\n  const createUser = () => {\n    if (personalData.display_name && (topArtists.items && topArtists.items.length) > 1) {\n      axios.post('http://localhost:8000/api/user', {\n        userName: personalData.display_name,\n        artists: topArtists.items.map(artist => artist.name),\n        imageUrl: personalData.images && personalData.images[0].url\n      });\n    }\n  };\n\n  const createFakeUser = () => {\n    axios.post('http://localhost:8000/api/user', {\n      userName: me,\n      artists: topArtists,\n      imageUrl: ['https://images.unsplash.com/photo-1464863979621-258859e62245?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&w=1000&q=80']\n    });\n  };\n\n  const getMe = async () => {\n    const access_t = getHashParams();\n    /* const result = await fetch(\n    \t`https://api.spotify.com/v1/me/top/artists?time_range=medium_term&limit=10&offset=5`,\n    \t{\n    \t\tmethod: 'GET',\n    \t\theaders: {\n    \t\t\tAuthorization: 'Bearer ' + access_t\n    \t\t}\n    \t} \n    );*/\n\n    if (access_t) {\n      spotifyWeb.setAccessToken(access_t);\n      spotifyWeb.getMe() // note that we don't pass a user id\n      .then(function (data) {\n        setPersonalData(data);\n      }, setLoggedIn(true), function (err) {\n        console.error(err);\n      });\n    }\n\n    let data = await result.json();\n    return data.items;\n  };\n\n  const getTopArtists = async () => {\n    const access_t = getHashParams();\n    /* const result = await fetch(\n    \t`https://api.spotify.com/v1/me/top/artists?time_range=medium_term&limit=10&offset=5`,\n    \t{\n    \t\tmethod: 'GET',\n    \t\theaders: {\n    \t\t\tAuthorization: 'Bearer ' + access_t\n    \t\t}\n    \t}\n    ); */\n\n    if (access_t) {\n      spotifyWeb.setAccessToken(access_t);\n      spotifyWeb.getMyTopArtists() // note that we don't pass a user id\n      .then(function (data) {\n        setTopArtists(data);\n      }, function (err) {\n        console.error(err);\n      });\n    }\n\n    let data = await result.json();\n    return data.items;\n  };\n\n  createFakeUser();\n  return /*#__PURE__*/React.createElement(Container, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(Wrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Sidebar, {\n    setCheckedOption: setCheckedOption,\n    checkedOption: checkedOption,\n    loggedIn: loggedIn,\n    personalData: personalData,\n    setAddFriendPage: setAddFriendPage,\n    me: me,\n    setMe: setMe,\n    users: users,\n    setUsers: setUsers,\n    friends: friends,\n    setFriends: setFriends,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 5\n    }\n  }), /*#__PURE__*/React.createElement(Wrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"script\", {\n    src: \"https://sdk.scdn.co/spotify-player.js\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 175,\n      columnNumber: 6\n    }\n  }), /*#__PURE__*/React.createElement(LoginContent, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 6\n    }\n  }, loggedIn ? /*#__PURE__*/React.createElement(Content, {\n    addFriendPage: addFriendPage,\n    topArtistData: topArtists,\n    musicData: personalData,\n    personalData: personalData,\n    users: users,\n    me: me,\n    friends: friends,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 8\n    }\n  }) : /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      padding: '10%'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 8\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    href: \"http://localhost:8888\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(LoginButton, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 10\n    }\n  }, \"Login with Spotify\")))))));\n}\n\nexport default App;\nexport const Container = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n`;\nexport const Wrapper = styled.div`\n\tdisplay: flex;\n\tflex-direction: row;\n\twidth: 100%;\n`;\nexport const LoginContent = styled.div`\n\tdisplay: flex;\n\tflex-direction: row;\n\tbackground-color: #e0e0e0;\n\twidth: 100%;\n`;\nexport const LoginButton = styled.button`\n\twidth: 300px;\n\theight: 60px;\n\tborder-radius: 10px;\n\tbackground-color: #ff5fa2;\n\tbox-shadow: 5px 5px 15px #888888;\n\tborder-color: #ff5fa2;\n\ttext-transform: uppercase;\n\tfont-size: 16px;\n\tletter-spacing: 3px;\n\tcolor: white;\n`;","map":{"version":3,"sources":["/Users/sherveersinghpannu/projects/map/client_copy/src/App.js"],"names":["React","useState","useEffect","SpotifyWebApi","styled","Header","Sidebar","Content","axios","spotifyWeb","App","loggedIn","setLoggedIn","checkedOption","setCheckedOption","personalData","setPersonalData","topArtists","setTopArtists","addFriendPage","setAddFriendPage","me","setMe","users","setUsers","friends","setFriends","console","log","forEach","friend","user","userName","newFriends","push","hashParams","getHashParams","e","r","q","window","location","hash","substring","exec","decodeURIComponent","access_token","getMe","getTopArtists","createUser","createFakeUser","display_name","items","length","post","artists","map","artist","name","imageUrl","images","url","access_t","setAccessToken","then","data","err","error","result","json","getMyTopArtists","padding","Container","div","Wrapper","LoginContent","LoginButton","button"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './App.css';\nimport SpotifyWebApi from 'spotify-web-api-js';\nimport styled from 'styled-components';\nimport Header from './Components/Header';\nimport Sidebar from './Components/Sidebar';\nimport Content from './Components/Content';\nimport axios from 'axios';\n\nconst spotifyWeb = new SpotifyWebApi();\n\nfunction App() {\n\tconst [ loggedIn, setLoggedIn ] = useState(false);\n\tconst [ checkedOption, setCheckedOption ] = useState('friendsfavorites');\n\tconst [ personalData, setPersonalData ] = useState([]);\n\tconst [ topArtists, setTopArtists ] = useState([]);\n\tconst [ addFriendPage, setAddFriendPage ] = useState(false);\n\tconst [ me, setMe ] = useState({});\n\tconst [ users, setUsers ] = useState([]);\n\tconst [ friends, setFriends ] = useState([]);\n\n\tuseEffect(\n\t\t() => {\n\t\t\tconsole.log('me ', me);\n\t\t\tif (me.friends) {\n\t\t\t\tme.friends.forEach((friend) => {\n\t\t\t\t\tusers.forEach((user) => {\n\t\t\t\t\t\tif (user.userName === friend) {\n\t\t\t\t\t\t\tconst newFriends = [ ...friends, user ];\n\t\t\t\t\t\t\tsetFriends(newFriends);\n\t\t\t\t\t\t\tfriends.push(user);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t});\n\t\t\t}\n\t\t\tconsole.log('FRIENDS', friends);\n\t\t\tconsole.log('ME', me);\n\t\t\tconsole.log('USERS', users);\n\t\t},\n\t\t[ me ]\n\t);\n\tlet hashParams = {};\n\n\tconst getHashParams = () => {\n\t\tvar e,\n\t\t\tr = /([^&;=]+)=?([^&;]*)/g,\n\t\t\tq = window.location.hash.substring(1);\n\t\te = r.exec(q);\n\t\twhile (e) {\n\t\t\thashParams[e[1]] = decodeURIComponent(e[2]);\n\t\t\te = r.exec(q);\n\t\t}\n\t\treturn hashParams.access_token;\n\t};\n\tuseEffect(() => {\n\t\thashParams.access_token ? setLoggedIn(true) : setLoggedIn(false);\n\t\tgetMe();\n\t\tgetTopArtists();\n\t}, []);\n\n\tuseEffect(\n\t\t() => {\n\t\t\tcheckedOption === 'friendsfavorites' && setAddFriendPage(false);\n\t\t},\n\t\t[ checkedOption ]\n\t);\n\n\tgetHashParams();\n\n\tuseEffect(\n\t\t() => {\n\t\t\tcreateUser();\n\t\t\tcreateFakeUser();\n\t\t},\n\t\t[ personalData, topArtists ]\n\t);\n\n\tconst createUser = () => {\n\t\tif (personalData.display_name && (topArtists.items && topArtists.items.length) > 1) {\n\t\t\taxios.post('http://localhost:8000/api/user', {\n\t\t\t\tuserName: personalData.display_name,\n\t\t\t\tartists: topArtists.items.map((artist) => artist.name),\n\t\t\t\timageUrl: personalData.images && personalData.images[0].url\n\t\t\t});\n\t\t}\n\t};\n\n\tconst createFakeUser = () => {\n\t\taxios.post('http://localhost:8000/api/user', {\n\t\t\tuserName: me,\n\t\t\tartists: topArtists,\n\t\t\timageUrl: [\n\t\t\t\t'https://images.unsplash.com/photo-1464863979621-258859e62245?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&w=1000&q=80'\n\t\t\t]\n\t\t});\n\t};\n\tconst getMe = async () => {\n\t\tconst access_t = getHashParams();\n\t\t/* const result = await fetch(\n\t\t\t`https://api.spotify.com/v1/me/top/artists?time_range=medium_term&limit=10&offset=5`,\n\t\t\t{\n\t\t\t\tmethod: 'GET',\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: 'Bearer ' + access_t\n\t\t\t\t}\n\t\t\t} \n\t\t);*/\n\n\t\tif (access_t) {\n\t\t\tspotifyWeb.setAccessToken(access_t);\n\t\t\tspotifyWeb\n\t\t\t\t.getMe() // note that we don't pass a user id\n\t\t\t\t.then(\n\t\t\t\t\tfunction(data) {\n\t\t\t\t\t\tsetPersonalData(data);\n\t\t\t\t\t},\n\t\t\t\t\tsetLoggedIn(true),\n\t\t\t\t\tfunction(err) {\n\t\t\t\t\t\tconsole.error(err);\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t}\n\t\tlet data = await result.json();\n\t\treturn data.items;\n\t};\n\n\tconst getTopArtists = async () => {\n\t\tconst access_t = getHashParams();\n\t\t/* const result = await fetch(\n\t\t\t`https://api.spotify.com/v1/me/top/artists?time_range=medium_term&limit=10&offset=5`,\n\t\t\t{\n\t\t\t\tmethod: 'GET',\n\t\t\t\theaders: {\n\t\t\t\t\tAuthorization: 'Bearer ' + access_t\n\t\t\t\t}\n\t\t\t}\n\t\t); */\n\n\t\tif (access_t) {\n\t\t\tspotifyWeb.setAccessToken(access_t);\n\t\t\tspotifyWeb\n\t\t\t\t.getMyTopArtists() // note that we don't pass a user id\n\t\t\t\t.then(\n\t\t\t\t\tfunction(data) {\n\t\t\t\t\t\tsetTopArtists(data);\n\t\t\t\t\t},\n\t\t\t\t\tfunction(err) {\n\t\t\t\t\t\tconsole.error(err);\n\t\t\t\t\t}\n\t\t\t\t);\n\t\t}\n\t\tlet data = await result.json();\n\t\treturn data.items;\n\t};\n\tcreateFakeUser();\n\n\treturn (\n\t\t<Container>\n\t\t\t<Header />\n\t\t\t<Wrapper>\n\t\t\t\t<Sidebar\n\t\t\t\t\tsetCheckedOption={setCheckedOption}\n\t\t\t\t\tcheckedOption={checkedOption}\n\t\t\t\t\tloggedIn={loggedIn}\n\t\t\t\t\tpersonalData={personalData}\n\t\t\t\t\tsetAddFriendPage={setAddFriendPage}\n\t\t\t\t\tme={me}\n\t\t\t\t\tsetMe={setMe}\n\t\t\t\t\tusers={users}\n\t\t\t\t\tsetUsers={setUsers}\n\t\t\t\t\tfriends={friends}\n\t\t\t\t\tsetFriends={setFriends}\n\t\t\t\t/>\n\t\t\t\t<Wrapper>\n\t\t\t\t\t<script src=\"https://sdk.scdn.co/spotify-player.js\" />\n\t\t\t\t\t<LoginContent>\n\t\t\t\t\t\t{loggedIn ? (\n\t\t\t\t\t\t\t<Content\n\t\t\t\t\t\t\t\taddFriendPage={addFriendPage}\n\t\t\t\t\t\t\t\ttopArtistData={topArtists}\n\t\t\t\t\t\t\t\tmusicData={personalData}\n\t\t\t\t\t\t\t\tpersonalData={personalData}\n\t\t\t\t\t\t\t\tusers={users}\n\t\t\t\t\t\t\t\tme={me}\n\t\t\t\t\t\t\t\tfriends={friends}\n\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t) : (\n\t\t\t\t\t\t\t<div style={{ padding: '10%' }}>\n\t\t\t\t\t\t\t\t<a href=\"http://localhost:8888\">\n\t\t\t\t\t\t\t\t\t<LoginButton>Login with Spotify</LoginButton>\n\t\t\t\t\t\t\t\t</a>\n\t\t\t\t\t\t\t</div>\n\t\t\t\t\t\t)}\n\t\t\t\t\t</LoginContent>\n\t\t\t\t</Wrapper>\n\t\t\t</Wrapper>\n\t\t</Container>\n\t);\n}\n\nexport default App;\n\nexport const Container = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n`;\n\nexport const Wrapper = styled.div`\n\tdisplay: flex;\n\tflex-direction: row;\n\twidth: 100%;\n`;\n\nexport const LoginContent = styled.div`\n\tdisplay: flex;\n\tflex-direction: row;\n\tbackground-color: #e0e0e0;\n\twidth: 100%;\n`;\n\nexport const LoginButton = styled.button`\n\twidth: 300px;\n\theight: 60px;\n\tborder-radius: 10px;\n\tbackground-color: #ff5fa2;\n\tbox-shadow: 5px 5px 15px #888888;\n\tborder-color: #ff5fa2;\n\ttext-transform: uppercase;\n\tfont-size: 16px;\n\tletter-spacing: 3px;\n\tcolor: white;\n`;\n"]},"metadata":{},"sourceType":"module"}