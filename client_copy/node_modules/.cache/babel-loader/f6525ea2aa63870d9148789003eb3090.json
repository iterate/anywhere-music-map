{"ast":null,"code":"var _jsxFileName = \"/Users/sherveersinghpannu/projects/map/client_copy/src/Components/FindFriends.js\";\nimport React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport axios from 'axios';\nexport const FindFriends = ({\n  personalData,\n  me,\n  allUsers\n}) => {\n  //hente ut folk som er lagret i databasen og legge til\n  const [users, setUsers] = useState([]);\n\n  const getUsers = () => {\n    axios.get('http://localhost:8000/api/user').then(res => {\n      setUsers(res.data.data);\n    });\n  };\n\n  useEffect(() => {\n    getUsers();\n  }, []);\n\n  const addFriend = user => {\n    axios.put('http://localhost:8000/api/user/' + personalData.display_name, {\n      friends: user\n    });\n  };\n\n  const compareUsers = () => {\n    console.log('trallala');\n    console.log('meeee', me);\n    console.log('users', allUsers);\n    const myArtistsLists = new Map();\n    var scoreMap = new Map();\n    var leng;\n    /* allUsers.map(user => {\n      user.artist.map(artist => {\n        myArtistsLists[user.userName] = artist.name\n      })\n    }) */\n\n    for (var i = 0; i < allUsers.length; i++) {\n      //console.log('i ', allUsers.length)\n      var user = allUsers[i];\n      console.log(user.artists.length);\n      leng = user.artists.length;\n      myArtistsLists[user.userName] = user.artists;\n    }\n\n    console.log(myArtistsLists);\n    console.log(allUsers.length);\n    console.log(me.userName);\n    console.log(myArtistsLists[me.userName][1].name);\n\n    for (var f = 0; f < allUsers.length; f++) {\n      var userscore = 0;\n\n      for (var i = 0; i < leng; i++) {\n        for (var j = 0; j < leng; j++) {\n          //console.log(myArtistsLists[me.userName].artists[i])\n          if (myArtistsLists[me.userName][i].name === myArtistsLists[allUsers[f].userName][j].name) {\n            userscore++;\n          }\n        }\n      }\n\n      scoreMap[allUsers[f].userName] = userscore / leng * 100;\n    }\n\n    console.log(scoreMap);\n    return scoreMap;\n  };\n\n  compareUsers();\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 7\n    }\n  }, \"Add Users\"), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 7\n    }\n  }, \"USERS: \"), users && users.map((user, index) => /*#__PURE__*/React.createElement(\"div\", {\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 13\n    }\n  }, user.userName), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }\n  }, \"you matching score is \", compareUsers()[user.userName], \"%\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => addFriend(user),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }\n  }, \"add\"))));\n};\nexport default FindFriends;","map":{"version":3,"sources":["/Users/sherveersinghpannu/projects/map/client_copy/src/Components/FindFriends.js"],"names":["React","useEffect","useState","styled","axios","FindFriends","personalData","me","allUsers","users","setUsers","getUsers","get","then","res","data","addFriend","user","put","display_name","friends","compareUsers","console","log","myArtistsLists","Map","scoreMap","leng","i","length","artists","userName","name","f","userscore","j","map","index"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport styled from 'styled-components'\nimport axios from 'axios'\n\nexport const FindFriends = ({ personalData, me, allUsers }) => {\n  //hente ut folk som er lagret i databasen og legge til\n  const [users, setUsers] = useState([])\n  const getUsers = () => {\n    axios.get('http://localhost:8000/api/user').then(res => {\n      setUsers(res.data.data)\n    })\n  }\n  useEffect(() => {\n    getUsers()\n  }, [])\n\n  const addFriend = user => {\n    axios.put('http://localhost:8000/api/user/' + personalData.display_name, {\n      friends: user\n    })\n  }\n\n  const compareUsers = () => {\n    console.log('trallala')\n\n    console.log('meeee', me)\n    console.log('users', allUsers)\n    const myArtistsLists = new Map()\n    var scoreMap = new Map()\n    var leng\n    /* allUsers.map(user => {\n      user.artist.map(artist => {\n        myArtistsLists[user.userName] = artist.name\n      })\n    }) */\n\n    for (var i = 0; i < allUsers.length; i++) {\n      //console.log('i ', allUsers.length)\n      var user = allUsers[i]\n      console.log(user.artists.length)\n      leng = user.artists.length\n      myArtistsLists[user.userName] = user.artists\n    }\n    console.log(myArtistsLists)\n    console.log(allUsers.length)\n    console.log(me.userName)\n    console.log(myArtistsLists[me.userName][1].name)\n    for (var f = 0; f < allUsers.length; f++) {\n      var userscore = 0\n      for (var i = 0; i < leng; i++) {\n        for (var j = 0; j < leng; j++) {\n          //console.log(myArtistsLists[me.userName].artists[i])\n          if (\n            myArtistsLists[me.userName][i].name ===\n            myArtistsLists[allUsers[f].userName][j].name\n          ) {\n            userscore++\n          }\n        }\n      }\n\n      scoreMap[allUsers[f].userName] = (userscore / leng) * 100\n    }\n    console.log(scoreMap)\n\n    return scoreMap\n  }\n\n  compareUsers()\n  return (\n    <div>\n      <h1>Add Users</h1>\n      <h2>USERS: </h2>\n      {users &&\n        users.map((user, index) => (\n          <div key={index}>\n            <p>{user.userName}</p>\n            <p>you matching score is {compareUsers()[user.userName]}%</p>\n            <button onClick={() => addFriend(user)}>add</button>\n          </div>\n        ))}\n    </div>\n  )\n}\n\nexport default FindFriends\n"]},"metadata":{},"sourceType":"module"}