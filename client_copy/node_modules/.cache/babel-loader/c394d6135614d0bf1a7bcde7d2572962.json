{"ast":null,"code":"var _jsxFileName = \"/Users/sherveersinghpannu/projects/map/client_copy/src/Components/FindFriends.js\";\nimport React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport axios from 'axios';\nexport const FindFriends = ({\n  personalData,\n  me,\n  allUsers\n}) => {\n  //hente ut folk som er lagret i databasen og legge til\n  const [users, setUsers] = useState([]);\n\n  const getUsers = () => {\n    axios.get('http://localhost:8000/api/user').then(res => {\n      setUsers(res.data.data);\n    });\n  };\n\n  useEffect(() => {\n    getUsers();\n  }, []);\n\n  const addFriend = user => {\n    axios.put('http://localhost:8000/api/user/' + personalData.display_name, {\n      friends: user\n    });\n  };\n\n  const compareUsers = () => {\n    console.log('trallala');\n    console.log('meeee', me);\n    console.log('users', allUsers);\n    const myArtistsLists = new Map();\n    var text = 'hey';\n    var scoreMap = new Map();\n    var leng;\n    /* allUsers.map(user => {\n      user.artist.map(artist => {\n        myArtistsLists[user.userName] = artist.name\n      })\n    }) */\n\n    for (var i = 0; i < allUsers.length; i++) {\n      //console.log('i ', allUsers.length)\n      var user = allUsers[i];\n      console.log(user.artists.length);\n      leng = user.artists.length;\n      myArtistsLists[user.userName] = user.artists;\n    }\n\n    console.log(myArtistsLists);\n    console.log(allUsers.length);\n    console.log(me.userName);\n    console.log(myArtistsLists[me.userName][1].name);\n\n    for (var f = 0; f < allUsers.length; f++) {\n      var userscore;\n\n      for (var i = 0; i < leng; i++) {\n        for (var j = 0; j < leng; j++) {\n          //console.log(myArtistsLists[me.userName].artists[i])\n          if (myArtistsLists[me.userName][i].name === myArtistsLists[user.userName][j].name) {\n            userscore += 1;\n            console.log('test', userscore);\n          }\n        }\n      }\n\n      scoreMap[me.userName] = (allUsers[f].userName, userscore);\n    }\n\n    console.log(scoreMap);\n    /* for (let i = 0; i < myArtistsLists.len; i++) {\n      for (let j = 0; j < myFrinedsArtistLists.len; j++) {\n        if (myArtistsLists[j] == myFrinedsArtistLists[i]) {\n          score = +1\n        }\n      }\n    */\n  };\n\n  compareUsers();\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }\n  }, \"Add Users\"), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 7\n    }\n  }, \"USERS: \"), users && users.map((user, index) => /*#__PURE__*/React.createElement(\"div\", {\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }\n  }, user.userName), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => addFriend(user),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85,\n      columnNumber: 13\n    }\n  }, \"add\"))));\n};\nexport default FindFriends;","map":{"version":3,"sources":["/Users/sherveersinghpannu/projects/map/client_copy/src/Components/FindFriends.js"],"names":["React","useEffect","useState","styled","axios","FindFriends","personalData","me","allUsers","users","setUsers","getUsers","get","then","res","data","addFriend","user","put","display_name","friends","compareUsers","console","log","myArtistsLists","Map","text","scoreMap","leng","i","length","artists","userName","name","f","userscore","j","map","index"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react'\nimport styled from 'styled-components'\nimport axios from 'axios'\n\nexport const FindFriends = ({ personalData, me, allUsers }) => {\n  //hente ut folk som er lagret i databasen og legge til\n  const [users, setUsers] = useState([])\n  const getUsers = () => {\n    axios.get('http://localhost:8000/api/user').then(res => {\n      setUsers(res.data.data)\n    })\n  }\n  useEffect(() => {\n    getUsers()\n  }, [])\n\n  const addFriend = user => {\n    axios.put('http://localhost:8000/api/user/' + personalData.display_name, {\n      friends: user\n    })\n  }\n\n  const compareUsers = () => {\n    console.log('trallala')\n\n    console.log('meeee', me)\n    console.log('users', allUsers)\n    const myArtistsLists = new Map()\n    var text = 'hey'\n    var scoreMap = new Map()\n    var leng\n    /* allUsers.map(user => {\n      user.artist.map(artist => {\n        myArtistsLists[user.userName] = artist.name\n      })\n    }) */\n\n    for (var i = 0; i < allUsers.length; i++) {\n      //console.log('i ', allUsers.length)\n      var user = allUsers[i]\n      console.log(user.artists.length)\n      leng = user.artists.length\n      myArtistsLists[user.userName] = user.artists\n    }\n    console.log(myArtistsLists)\n    console.log(allUsers.length)\n    console.log(me.userName)\n    console.log(myArtistsLists[me.userName][1].name)\n    for (var f = 0; f < allUsers.length; f++) {\n      var userscore\n      for (var i = 0; i < leng; i++) {\n        for (var j = 0; j < leng; j++) {\n          //console.log(myArtistsLists[me.userName].artists[i])\n          if (\n            myArtistsLists[me.userName][i].name ===\n            myArtistsLists[user.userName][j].name\n          ) {\n            userscore += 1\n            console.log('test', userscore)\n          }\n        }\n      }\n      scoreMap[me.userName] = (allUsers[f].userName, userscore)\n    }\n    console.log(scoreMap)\n\n    /* for (let i = 0; i < myArtistsLists.len; i++) {\n      for (let j = 0; j < myFrinedsArtistLists.len; j++) {\n        if (myArtistsLists[j] == myFrinedsArtistLists[i]) {\n          score = +1\n        }\n      }\n */\n  }\n\n  compareUsers()\n  return (\n    <div>\n      <h1>Add Users</h1>\n      <h2>USERS: </h2>\n      {users &&\n        users.map((user, index) => (\n          <div key={index}>\n            <p>{user.userName}</p>\n            <button onClick={() => addFriend(user)}>add</button>\n          </div>\n        ))}\n    </div>\n  )\n}\n\nexport default FindFriends\n"]},"metadata":{},"sourceType":"module"}